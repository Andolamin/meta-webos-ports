From 10ed7833341fbf528b2fa5fb66b8e1a839ce2b39 Mon Sep 17 00:00:00 2001
From: Simon Busch <morphis@gravedo.de>
Date: Fri, 29 May 2015 20:19:17 +0200
Subject: [PATCH] Fix problems with -fpermissive

Upstream-Status: Pending

Signed-off-by: Simon Busch <morphis@gravedo.de>
---
 src/webenginewidgets/render_widget_host_view_qt_delegate_widget.cpp | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/src/webenginewidgets/render_widget_host_view_qt_delegate_widget.cpp b/src/webenginewidgets/render_widget_host_view_qt_delegate_widget.cpp
index dba37ce..04d3f7c 100644
--- a/src/webenginewidgets/render_widget_host_view_qt_delegate_widget.cpp
+++ b/src/webenginewidgets/render_widget_host_view_qt_delegate_widget.cpp
@@ -166,13 +166,14 @@ QSGTexture *RenderWidgetHostViewQtDelegateWidget::createTextureFromImage(const Q
 
 QSGLayer *RenderWidgetHostViewQtDelegateWidget::createLayer()
 {
-    QSGEnginePrivate *enginePrivate = QSGEnginePrivate::get(m_sgEngine.data());
+    QSGEnginePrivate *enginePrivate = (QSGEnginePrivate*) QSGEnginePrivate::get((QSGEngine*) m_sgEngine.data());
     return enginePrivate->sgContext->createLayer(enginePrivate->sgRenderContext.data());
 }
 
 QSGImageNode *RenderWidgetHostViewQtDelegateWidget::createImageNode()
 {
-    return QSGEnginePrivate::get(m_sgEngine.data())->sgContext->createImageNode();
+    QSGEnginePrivate *enginePrivate = (QSGEnginePrivate*) QSGEnginePrivate::get((QSGEngine*) m_sgEngine.data());
+    return enginePrivate->sgContext->createImageNode();
 }
 
 void RenderWidgetHostViewQtDelegateWidget::update()
-- 
2.1.4

