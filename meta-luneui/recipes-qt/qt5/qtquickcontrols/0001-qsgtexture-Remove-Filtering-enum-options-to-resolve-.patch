From bc49bca39d87cd75f991bcfc94d6d065b882cc06 Mon Sep 17 00:00:00 2001
From: Martin Jansa <Martin.Jansa@gmail.com>
Date: Mon, 27 Apr 2015 17:47:18 +0200
Subject: [PATCH] qsgtexture: Remove Filtering enum options to resolve conflict
 with X.h

* resolves conflict with X11 headers (X.h) which also defines "None":
  #ifndef None
  #define None                 0L /* universal null resource or null atom */
  #endif
* fixes error like this:
  In file included from usr/include/X11/Xlib.h:44:0,
                   from usr/include/EGL/eglplatform.h:118,
                   from usr/include/EGL/egl.h:36,
                   from luna-next/0.2.0-26+gitAUTOINC+6db63b7f8b-r0/build/plugins/performance/../../../git/plugins/performance/rendertimer.h:28,
                   from luna-next/0.2.0-26+gitAUTOINC+6db63b7f8b-r0/build/plugins/performance/../../../git/plugins/performance/renderingtimes.h:26,
                   from luna-next/0.2.0-26+gitAUTOINC+6db63b7f8b-r0/build/plugins/performance/moc_renderingtimes.cpp:9,
                   from luna-next/0.2.0-26+gitAUTOINC+6db63b7f8b-r0/build/plugins/performance/lunanext-performance-qml_automoc.cpp:5:
  usr/include/qt5/QtQuick/qsgtexture.h:59:9: error: expected identifier before numeric constant
           None,
           ^
  usr/include/qt5/QtQuick/qsgtexture.h:59:9: error: expected '}' before numeric constant
  usr/include/qt5/QtQuick/qsgtexture.h:59:9: error: expected unqualified-id before numeric constant

Change-Id: Ide26cfa2976d3e9519cfa630c629c14bc72565d0
Signed-off-by: Martin Jansa <Martin.Jansa@gmail.com>
---
 src/controls/Private/qquickstyleitem.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/controls/Private/qquickstyleitem.cpp b/src/controls/Private/qquickstyleitem.cpp
index fb49e6e..c4a3fe0 100644
--- a/src/controls/Private/qquickstyleitem.cpp
+++ b/src/controls/Private/qquickstyleitem.cpp
@@ -99,7 +99,7 @@ public:
         m_geometry.setDrawingMode(GL_TRIANGLE_STRIP);
         setGeometry(&m_geometry);
         // The texture material has mipmap filtering set to Nearest by default. This is not ideal.
-        m_material.setMipmapFiltering(QSGTexture::None);
+        m_material.setMipmapFiltering(QSGTexture::FilteringNone);
         setMaterial(&m_material);
     }
 
-- 
2.3.5

