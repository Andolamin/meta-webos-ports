From 4ee776b904921220e2938cd02ade2b3dc92b499d Mon Sep 17 00:00:00 2001
From: Martin Jansa <Martin.Jansa@gmail.com>
Date: Mon, 27 Apr 2015 17:49:06 +0200
Subject: [PATCH] qsgtexture: Remove Filtering enum options to resolve conflict
 with X.h

* resolves conflict with X11 headers (X.h) which also defines "None":
  #ifndef None
  #define None                 0L /* universal null resource or null atom */
  #endif
* fixes error like this:
  In file included from usr/include/X11/Xlib.h:44:0,
                   from usr/include/EGL/eglplatform.h:118,
                   from usr/include/EGL/egl.h:36,
                   from luna-next/0.2.0-26+gitAUTOINC+6db63b7f8b-r0/build/plugins/performance/../../../git/plugins/performance/rendertimer.h:28,
                   from luna-next/0.2.0-26+gitAUTOINC+6db63b7f8b-r0/build/plugins/performance/../../../git/plugins/performance/renderingtimes.h:26,
                   from luna-next/0.2.0-26+gitAUTOINC+6db63b7f8b-r0/build/plugins/performance/moc_renderingtimes.cpp:9,
                   from luna-next/0.2.0-26+gitAUTOINC+6db63b7f8b-r0/build/plugins/performance/lunanext-performance-qml_automoc.cpp:5:
  usr/include/qt5/QtQuick/qsgtexture.h:59:9: error: expected identifier before numeric constant
           None,
           ^
  usr/include/qt5/QtQuick/qsgtexture.h:59:9: error: expected '}' before numeric constant
  usr/include/qt5/QtQuick/qsgtexture.h:59:9: error: expected unqualified-id before numeric constant

Change-Id: Ide26cfa2976d3e9519cfa630c629c14bc72565d0
Signed-off-by: Martin Jansa <Martin.Jansa@gmail.com>
---
 src/location/maps/qgeomapscene.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/location/maps/qgeomapscene.cpp b/src/location/maps/qgeomapscene.cpp
index 09f9a9d..2d30e49 100644
--- a/src/location/maps/qgeomapscene.cpp
+++ b/src/location/maps/qgeomapscene.cpp
@@ -686,7 +686,7 @@ void QGeoMapRootNode::updateTiles(QGeoMapTileContainerNode *root,
             delete node;
         } else {
             if (isTextureLinear != d->linearScaling_) {
-                node->setFiltering(d->linearScaling_ ? QSGTexture::Linear : QSGTexture::Nearest);
+                node->setFiltering(d->linearScaling_ ? QSGTexture::FilteringLinear : QSGTexture::FilteringNearest);
                 dirtyBits |= QSGNode::DirtyMaterial;
             }
             if (dirtyBits != 0)
@@ -707,7 +707,7 @@ void QGeoMapRootNode::updateTiles(QGeoMapTileContainerNode *root,
         Q_ASSERT(tileNode->geometry()->vertexCount() == 4);
         if (d->buildGeometry(s, tileNode->geometry()->vertexDataAsTexturedPoint2D())
                 && qgeomapscene_isTileInViewport(tileNode->geometry()->vertexDataAsTexturedPoint2D(), root->matrix())) {
-            tileNode->setFiltering(d->linearScaling_ ? QSGTexture::Linear : QSGTexture::Nearest);
+            tileNode->setFiltering(d->linearScaling_ ? QSGTexture::FilteringLinear : QSGTexture::FilteringNearest);
             root->addChild(s, tileNode);
         } else {
             delete tileNode;
-- 
2.3.5

